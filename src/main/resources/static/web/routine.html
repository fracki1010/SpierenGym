<!DOCTYPE html>
<html lang="en" xmlns:v-on="http://www.w3.org/1999/xhtml" xmlns:v-bind="http://www.w3.org/1999/xhtml">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gim</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css">
    <script src="https://kit.fontawesome.com/3f4db2cda2.js" crossorigin="anonymous"></script>
    <!--jQuery-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="styles/exercises.css">
</head>

<body>
<style>
    [v-cloak] {
        display: none;
    }
</style>
<div id="app">
    <div class="toast-container position-absolute p-3 top-0 end-0" id="toastPlacement">
        <div id="danger-toast" data-bs-delay="3000" class="toast align-items-center text-white bg-danger border-0"
             role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body">
                    {{ errorMsg }}
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"
                        aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!-- navegador -->
    <template v-if="clientInfo.rol == 'ADMIN'">
        <nav class="fixed-top px-3 py-2 bg-dark border-bottom">
            <div class="container">
                <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
                    <a href="/" class="d-flex align-items-center my-2 my-lg-0 me-lg-auto text-white text-decoration-none">
                        <span class="fs-2 fw-bold">GIM SPIEREN</span>
                    </a>

                    <ul class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small">
                        <li>
                            <a href="manager/manager.html" class="nav-link text-secondary">
                                <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                                    <i class="fa-solid fa-house fa-xl" style="width: 30px;"></i>
                                </svg>
                                Home
                            </a>
                        </li>
                        <li>
                            <a href="manager/manager-routines.html" class="nav-link active text-white">
                                <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                                    <i class="fa-solid fa-dumbbell fa-xl" style="width: 30px;"></i>
                                </svg>
                                Routine
                            </a>
                        </li>
                        <li>
                            <a href="manager/manager-exercises.html" class="nav-link text-secondary">
                                <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                                    <i class="fa-solid fa-stopwatch-20 fa-xl" style="width: 30px;"></i>
                                </svg>
                                Exercise
                            </a>
                        </li>
                        <li>
                            <a href="manager/manager-rankings.html" class="nav-link text-secondary">
                                <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                                    <i class="fa-solid fa-ranking-star fa-xl" style="width: 30px;"></i>
                                </svg>
                                Ranking
                            </a>
                        </li>
                        <li>
                            <a @click="signOut" href="#" class="nav-link">
                                <svg class="bi d-block mx-auto mb-1" width="24" height="24">
                                    <i class="fa-solid fa-right-from-bracket fa-xl" style="color: gray;"></i>
                                </svg>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!--Margen que quita el fixed-->
        <div style="margin-top: 6rem;"></div>
    </template>
    <template v-else>
        <nav class="navbar fixed-bottom navbar-expand navbar-dark bg-primary">
            <ul class="navbar-nav nav-fill w-100">
                <li class="nav-item">
                    <a class="nav-link" href="/web/exercises.html">
                        <i class="fa-solid fa-stopwatch-20 fa-2xl"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/web/routine.html">
                        <i class="fa-solid fa-dumbbell fa-2xl"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/web/rankings.html">
                        <i class="fa-solid fa-ranking-star fa-2xl"></i>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/web/profile.html">
                        <i class="fa-solid fa-user fa-2xl"></i>
                    </a>
                </li>
            </ul>
        </nav>
    </template>



    <!-- card de rutinas -->
    <h3 class="position-fixed top-0 end-0 p-2 bg-primary text-white font-monospace" style="z-index: 1;">
        {{routine.name}}
    </h3>
    <template v-if="clientInfo.rol == 'ADMIN'">
        <span v-if="routine.exercises.length == 0" class="p-3 d-flex justify-content-center">No hay ejercicios para mostrar</span>
        <div class="p-4 mb-5 mt-5 row d-flex justify-content-center">
            <template v-for="exercise in exercises">
                <div @click="redirectWindowExercise(exercise.id)" class="card exercise-font me-4 mb-3 p-0" style="width: 15rem">
                    <div class="bg-image hover-overlay ripple rounded-top" data-mdb-ripple-color="light">
                        <img :src="exercise.img" class="img-fluid rounded-top square-image"/>
                        <a href="#">
                            <div class="mask" style="background-color: rgba(251, 251, 251, 0.15);"></div>
                        </a>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">{{exercise.name}}</h5>
                        <!-- <a href="#!" class="btn btn-primary">Ver m√°s</a> -->
                    </div>
                </div>
            </template>
        </div>
    </template>
    <template v-else>
        <div class="p-4 mb-5 mt-5">
            <div @click="redirectWindow('1')" class="card text-white border border-danger border-3 rounded rounded-3 mb-3">
                <div class="card-header bg-danger fw-bold fs-2 text-center">LUNES</div>
                <div class="card-body text-dark">
                    <p class="card-title fs-6">{{mondayMuscles}}</p>
                    <p class="card-text">{{ monday && monday.length ? monday.length : 'N/A' }} Ejercicios</p>
                </div>
            </div>
            <div @click="redirectWindow('2')" class="card text-white border border-danger border-3 mb-3">
                <div class="card-header fw-bold fs-2 bg-danger text-center">MARTES</div>
                <div class="card-body text-dark">
                    <p class="card-title fs-6">{{tuesdayMuscles}}</p>
                    <p class="card-text">{{ tuesday && tuesday.length ? tuesday.length : 'N/A' }} Ejercicios</p>
                </div>
            </div>
            <div @click="redirectWindow('3')" class="card text-white border border-danger border-3 mb-3">
                <div class="card-header fw-bold fs-2 bg-danger text-center">MIERCOLES</div>
                <div class="card-body text-dark">
                    <p class="card-title fs-6">{{wednesdayMuscles}}</p>
                    <p class="card-text">{{ wednesday && wednesday.length ? wednesday.length : 'N/A' }} Ejercicios</p>
                </div>
            </div>
            <div @click="redirectWindow('4')" class="card text-white border border-danger border-3 mb-3">
                <div class="card-header fw-bold fs-2 bg-danger text-center">JUEVES</div>
                <div class="card-body text-dark">
                    <p class="card-title fs-6">{{thursdayMuscles}}</p>
                    <p class="card-text">{{ thursday && thursday.length ? thursday.length : 'N/A' }} Ejercicios</p>
                </div>
            </div>
            <div @click="redirectWindow('5')" class="card text-white border border-danger border-3 mb-3">
                <div class="card-header fw-bold fs-2 bg-danger text-center">VIERNES</div>
                <div class="card-body text-dark">
                    <p class="card-title fs-6">{{fridayMuscles}}</p>
                    <p class="card-text">{{ friday && friday.length ? friday.length : 'N/A' }} Ejercicios</p>
                </div>
            </div>
        </div>
    </template>


</div>
<script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
        crossorigin="anonymous"></script>
<script src="js/routine.js"></script>
</body>

</html>